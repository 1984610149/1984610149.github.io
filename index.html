<!DOCTYPE html>
<html>
<head>
    <title>3D游戏</title>
    <style>
        body { 
            margin: 0; 
            overflow: hidden;
        }
        canvas { 
            display: block;
        }
        #ui {
            position: fixed;
            top: 20px;
            left: 20px;
            color: white;
            font-family: Arial, sans-serif;
            font-size: 24px;
            text-shadow: 2px 2px 2px rgba(0,0,0,0.5);
        }
        #score {
            margin-bottom: 10px;
        }
        .status-bar {
            width: 200px;
            height: 20px;
            background: rgba(0,0,0,0.5);
            margin: 5px 0;
            border-radius: 10px;
            overflow: hidden;
        }
        #health-bar {
            margin-bottom: 5px;
        }
        #health {
            height: 100%;
            background: #ff3333;
            width: 100%;
            transition: width 0.3s;
        }
        #stamina {
            height: 100%;
            background: #33ff33;
            width: 100%;
            transition: width 0.3s;
        }
        #instructions {
            font-size: 16px;
            margin-top: 15px;
        }
    </style>
</head>
<body>
    <div id="ui">
        <div id="score">分数: 0</div>
        <div class="status-bar" id="health-bar">
            <div id="health"></div>
        </div>
        <div class="status-bar">
            <div id="stamina"></div>
        </div>
        <div id="instructions">
            WASD - 移动<br>
            空格 - 跳跃<br>
            Shift - 冲刺<br>
            V - 切换视角<br>
            点击屏幕开始
        </div>
    </div>
    <div id="debug" style="position: fixed; top: 10px; right: 10px; background: rgba(0,0,0,0.7); color: white; padding: 10px; font-family: monospace; font-size: 12px;">
        <div>模型状态: <span id="model-status">未加载</span></div>
        <div>当前动画: <span id="current-animation">无</span></div>
        <div>骨骼数量: <span id="bone-count">0</span></div>
    </div>
    <script async src="https://unpkg.com/es-module-shims/dist/es-module-shims.js"></script>
    <script type="importmap">
    {
        "imports": {
            "three": "https://unpkg.com/three@0.159.0/build/three.module.js",
            "three/addons/": "https://unpkg.com/three@0.159.0/examples/jsm/",
            "three/mmd/": "https://unpkg.com/three@0.159.0/examples/jsm/loaders/MMDLoader.js"
        }
    }
    </script>
    <div id="loading" style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); color: white; font-size: 24px;">
        加载中...
    </div>
    <script type="module" src="panorama.js"></script>
</body>
</html> 